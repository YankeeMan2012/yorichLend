$(document).ready(function(){AppJS.ready()});var AppJS={ready:function(){AppJS.handlers(),AppJS.sliderInit()},handlers:function(){$(".sandWhich").on("click",function(){AppJS.switchMenu()}),$(".menu a").on("click",function(e){AppJS.closeMenu(e)}),$("body").on("click",function(e){AppJS.bodyClick(e)}),$(".addApplication").on("click",function(){AppJS.modalForm(this)}),$(".overlay, .close").on("click",function(){AppJS.closeModal()}),$("#portfolio .site a").on("click",function(e){AppJS.openPortfolio(e,this)}),$(".form button").on("click",function(e){AppJS.ajaxSubmit(e,this)})},openPortfolio:function(e,o){e.preventDefault();var n=$(o).closest(".site").index()+1;AppJS.portSlider.slideTo(n,0),$(".modalBox").addClass("openPortfolio")},modalForm:function(e){var o=$(e).closest(".card").index()+1,n=$(".form.modal .wrap a");switch($('.form.modal [name="title"]').val(o),o){case 1:n.text("LANDING PAGE");break;case 2:n.text("САЙТА-ВИЗИТКИ");break;case 3:n.text("КОРПОРАТИВНОГО САЙТА");break;case 4:n.text("ИНТЕРНЕТ-КАТАЛОГА");break;case 5:n.text("ИНТЕРНЕТ-МАГАЗИНА");break;case 6:n.text("БЛОГА/НОВОСТНОГО ПОРТАЛА")}$(".modalBox").addClass("openForm")},closeModal:function(){$(".modalBox").removeClass("openForm openPortfolio openThanks"),$(".modalBox .successForm").removeClass("successForm")},ajaxSubmit:function(e,o){e.preventDefault();var n=/^\w+([\.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,4})+$/,t=/^\+?[\d]{1,3}(-|\s)?\(?[\d]{1,3}\)?(-|\s)?[\d](-|\s)?[\d](-|\s)?[\d](-|\s)?[\d](-|\s)?[\d](-|\s)?[\d](-|\s)?\d$/,s=$(".preLoader"),a=$(o).closest("form"),i=a.serializeArray();$(".invalid").removeClass("invalid"),n.test(i[1].value)||t.test(i[1].value)?(s.show(),$.post("/mail.php",i,function(){a.addClass("successForm"),s.hide()})):a.find('[name="login"]').closest(".inputBox").addClass("invalid")},switchMenu:function(){var e=$("header"),o=$(".menu");e.toggleClass("openMenu"),e.hasClass("openMenu")?o.slideDown():o.slideUp()},closeMenu:function(e){$(e.target).closest("openMenu").length||($(".menu").slideUp(),$("header").removeClass("openMenu"))},bodyClick:function(e){!$(e.target).closest("header").length&&$("header").hasClass("openMenu")&&AppJS.switchMenu()},sliderInit:function(){new Swiper("#slider",{prevButton:".prev",nextButton:".next",pagination:".swiper-pagination",paginationClickable:!0,speed:700,loop:!0}),AppJS.portSlider=new Swiper("#portSlider",{prevButton:".port-prev",nextButton:".port-next",speed:700,loop:!0,onInit:function(){$(".close").on("click",function(){$(".modalBox").removeClass("openPortfolio")})}})}};